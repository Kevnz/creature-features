<!DOCTYPE html>
<html lang="en">

<head>
  <title>Creature-Features - Dead simple feature flags - Kevin Isom</title>
  <link rel="stylesheet" type="text/css" href="styles.css" />
  <link rel="stylesheet" type="text/css" href="extend.css" />
  <meta name="description" content="Feature flags for node.js" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/github.min.css" />

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title"
    content="Creature-Features - Dead simple feature flags - Kevin Isom" />
  <meta property="og:type" content="website" />
  <meta property="og:description" content="Creature-Features - Dead simple feature flags, a JavaScript library by Kevin Isom. Creature-Features allows feature flags based on json configuration files and supports true/false, custom rules, and weighted checks." />
  <meta property="og:url" content="https://kevinisom.info/creature-features" />
  <meta property="og:image" content="https://avatars3.githubusercontent.com/u/62547?s=400&amp;v=4" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@kev_nz" />
  <meta name="twitter:title"
    content="Creature-Features - Dead simple feature flags - Kevin Isom" />
  <meta name="twitter:description" content="Creature-Features - Dead simple feature flags, a JavaScript library by Kevin Isom. Creature-Features allows feature flags based on json configuration files and supports true/false, custom rules, and weighted checks." />
  <meta name="twitter:image" content="https://avatars3.githubusercontent.com/u/62547?s=400&amp;v=4" />

</head>

<body>
  <div class="container">
  <h1 id="creature-features">Creature Features</h1>
<p><a href="https://badge.fury.io/js/creature-features"><img src="https://badge.fury.io/js/creature-features.svg" alt="npm version" /></a> <a href="https://travis-ci.org/Kevnz/creature-features"><img src="https://travis-ci.org/Kevnz/creature-features.svg?branch=master" alt="Build Status" /></a> <a href="https://coveralls.io/github/Kevnz/creature-features?branch=master"><img src="https://coveralls.io/repos/github/Kevnz/creature-features/badge.svg?branch=master" alt="Coverage Status" /></a></p>
<p><img src="https://kevinisom.info/creature-features/creature-features.jpg" alt="creature features" /></p>
<h2 id="dead-simple-feature-flags">Dead simple feature flags</h2>
<p>Creature-Features allows feature flags based on json configuration files and supports true/false, custom rules, and weighted checks.</p>
<h3 id="install">Install</h3>
<pre><code class="hljs bash language-bash">npm install creature-features --save</code></pre>
<h3 id="configure">Configure</h3>
<h4 id="directory-and-files">directory and files</h4>
<pre><code class="hljs">- features
-- default<span class="hljs-selector-class">.json</span> (default settings)
-- development<span class="hljs-selector-class">.json</span> (settings <span class="hljs-keyword">for</span> development environment)
-- development.{named}<span class="hljs-selector-class">.json</span> (settings <span class="hljs-keyword">for</span> individual development environment)
-- test<span class="hljs-selector-class">.json</span> (settings <span class="hljs-keyword">for</span> test)
-- production<span class="hljs-selector-class">.json</span> (settigns <span class="hljs-keyword">for</span> production)
-- {any other environment}.json</code></pre>
<h4 id="example-file">Example File</h4>
<pre><code class="hljs json language-json">{
  <span class="hljs-attr">"FeatureOne"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"FeatureTwo"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"FeatureThree"</span>: <span class="hljs-literal">false</span>
}</code></pre>
<h3 id="usage">Usage</h3>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> features = <span class="hljs-built_in">require</span>(<span class="hljs-string">'creature-features'</span>)();
<span class="hljs-comment">// Default behavior</span>
<span class="hljs-keyword">if</span> (features.FeatureOne) {
<span class="hljs-comment">// do something new</span>
} <span class="hljs-keyword">else</span> {
<span class="hljs-comment">// do the old thing</span>
}</code></pre>
<h4 id="rules-based">Rules Based</h4>
<pre><code class="hljs json language-json">{
  <span class="hljs-attr">"FeatureOne"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"FeatureTwo"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"RuleForEmailFeature"</span>: {
    <span class="hljs-attr">"parameters"</span>: <span class="hljs-string">"email"</span>,
    <span class="hljs-attr">"check"</span>: <span class="hljs-string">"email.indexOf('test') &gt; -1"</span>
  },
    <span class="hljs-attr">"RuleForEmailAndRoleFeature"</span>: {
    <span class="hljs-attr">"parameters"</span>: <span class="hljs-string">"email,role"</span>,
    <span class="hljs-attr">"check"</span>: <span class="hljs-string">"email.indexOf('test') &gt; -1 &amp;&amp; role ==='admin'"</span>
  }
}</code></pre>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> features = <span class="hljs-built_in">require</span>(<span class="hljs-string">'creature-features'</span>)();
<span class="hljs-comment">// Default behavior</span>
<span class="hljs-keyword">if</span> (features.RuleForEmailFeature(user.email)) {
<span class="hljs-comment">// do something new</span>
} <span class="hljs-keyword">else</span> {
<span class="hljs-comment">// do the old thing</span>
}
<span class="hljs-keyword">if</span> (features.RuleForEmailAndRoleFeature({ <span class="hljs-attr">email</span>: user.email, <span class="hljs-attr">role</span>: user.account.role })) {
<span class="hljs-comment">// do something new</span>
} <span class="hljs-keyword">else</span> {
<span class="hljs-comment">// do the old thing</span>
}</code></pre>
<h4 id="weight-based">Weight Based</h4>
<pre><code class="hljs json language-json">{
  <span class="hljs-attr">"FeatureOne"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"FeatureTwo"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"PercentBasedFiftyFifty"</span>: {
    <span class="hljs-attr">"range"</span>: [<span class="hljs-number">50</span>, <span class="hljs-number">50</span>]
  },
  <span class="hljs-attr">"PercentBasedOneThird"</span>: {
    <span class="hljs-attr">"range"</span>: [<span class="hljs-number">33</span>, <span class="hljs-number">67</span>]
  },
}</code></pre>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> features = <span class="hljs-built_in">require</span>(<span class="hljs-string">'creature-features'</span>)();
<span class="hljs-comment">// Roughly 50% of the the time this will be true</span>
<span class="hljs-keyword">if</span> (features.PercentBasedFiftyFifty) {
<span class="hljs-comment">// do something new</span>
}
<span class="hljs-comment">// Roughly 33% of the the time this will be true</span>
<span class="hljs-keyword">if</span> (features.PercentBasedOneThird) {
<span class="hljs-comment">// do something new</span>
}</code></pre>
<h3 id="in-webpack">In Webpack</h3>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> features = <span class="hljs-built_in">require</span>(<span class="hljs-string">'creature-features'</span>)();
<span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack'</span>);

<span class="hljs-keyword">const</span> featureFlags = <span class="hljs-keyword">new</span> webpack.DefinePlugin({
  <span class="hljs-attr">FEATURES</span>: features
});

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">plugins</span>: [featureFlags],
  ...

<span class="hljs-comment">// in a ui file</span>
<span class="hljs-keyword">if</span> (FEATURES.FeatureOne) { }</code></pre>
<h3 id="why">Why?</h3>
<ul>
<li><a href="https://martinfowler.com/articles/feature-toggles.html">What are they?</a></li>
<li><a href="http://code.flickr.net/2009/12/02/flipping-out/">How are they useful</a></li>
<li><a href="http://featureflags.io/">More info</a></li>
</ul>
<h3 id="advanced-usage">Advanced Usage</h3>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> creature = <span class="hljs-built_in">require</span>(<span class="hljs-string">'creature-features'</span>);
<span class="hljs-keyword">const</span> prodFeatures = creature(<span class="hljs-string">'production'</span>);
<span class="hljs-keyword">const</span> locationFeatures = creature({<span class="hljs-attr">location</span>: <span class="hljs-string">'./my-location/for-features'</span>});
<span class="hljs-keyword">const</span> bothFeatures = creature({<span class="hljs-attr">location</span>: <span class="hljs-string">'./my-location/for-features'</span>, <span class="hljs-attr">env</span>: <span class="hljs-string">'staging'</span>});</code></pre>
  </div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-64038939-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-64038939-2');
</script>

</body>